(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a9a8816"],{1110:function(t,a,e){},"16bf":function(t,a,e){},"43c4":function(t,a,e){"use strict";var s=e("1110"),i=e.n(s);i.a},"4d8b":function(t,a,e){},"709b":function(t,a,e){"use strict";var s=e("4d8b"),i=e.n(s);i.a},8418:function(t,a,e){"use strict";var s=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var n=s(a);n in t?i.f(t,n,r(0,e)):t[n]=e}},"8bd6":function(t,a,e){"use strict";var s=e("16bf"),i=e.n(s);i.a},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),r=e("e8b5"),n=e("861d"),c=e("7b0b"),o=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),f=e("b622"),v=e("2d00"),p=f("isConcatSpreadable"),_=9007199254740991,g="Maximum allowed index exceeded",h=v>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=u("concat"),m=function(t){if(!n(t))return!1;var a=t[p];return void 0!==a?!!a:r(t)},C=!h||!b;s({target:"Array",proto:!0,forced:C},{concat:function(t){var a,e,s,i,r,n=c(this),u=d(n,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(r=-1===a?n:arguments[a],m(r)){if(i=o(r.length),f+i>_)throw TypeError(g);for(e=0;e<i;e++,f++)e in r&&l(u,f,r[e])}else{if(f>=_)throw TypeError(g);l(u,f++,r)}return u.length=f,u}})},"9b80":function(t,a,e){},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),r=e("a691"),n=e("50c4"),c=e("7b0b"),o=e("65f0"),l=e("8418"),d=e("1dde"),u=e("ae40"),f=d("splice"),v=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,_=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,a){var e,s,d,u,f,v,b=c(this),m=n(b.length),C=i(t,m),y=arguments.length;if(0===y?e=s=0:1===y?(e=0,s=m-C):(e=y-2,s=_(p(r(a),0),m-C)),m+e-s>g)throw TypeError(h);for(d=o(b,s),u=0;u<s;u++)f=C+u,f in b&&l(d,u,b[f]);if(d.length=s,e<s){for(u=C;u<m-s;u++)f=u+s,v=u+e,f in b?b[v]=b[f]:delete b[v];for(u=m;u>m-s+e;u--)delete b[u-1]}else if(e>s)for(u=m-s;u>C;u--)f=u+s-1,v=u+e-1,f in b?b[v]=b[f]:delete b[v];for(u=0;u<e;u++)b[u+C]=arguments[u+2];return b.length=m-s+e,d}})},a99b:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("SuccessMessage"),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top topnav"},[t._m(0),e("router-link",{attrs:{to:"/"}},[e("img",{staticClass:"logoImg",attrs:{src:"https://github.com/andrew-HuangHaoChe/image/blob/master/keyboardlogo.png?raw=true"}})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav ml-auto py-1 home-nav-icon align-items-start"},[e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/"},"active-class":"routerActive"}},[e("i",{staticClass:"fas fa-home fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("首頁")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/shopping"},"active-class":"routerActive"}},[e("i",{staticClass:"fas fa-shopping-bag fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("商品")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/promotion"},"active-class":"routerActive"}},[e("i",{staticClass:"fas fa-ticket-alt fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center icon"},[t._v("優惠")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/login"},"active-class":"routerActive"}},[e("i",{staticClass:"far fa-user fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center icon"},[t._v("登入")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("div",{staticClass:"btn-group"},[e("div",{staticClass:"btn-group dropleft favIcon",attrs:{role:"group"}},[t._m(1),e("div",{staticClass:"dropdown-menu favorite-dropdown-menu"},t._l(t.favList,(function(a,s){return e("div",{key:s,staticClass:"row drop-item-f px-4 py-1 favoriteList"},[e("div",{staticClass:"col-8 drop-item pl-1"},[t._v(t._s(a))]),e("div",{staticClass:"col-1 drop-item"},[e("i",{staticClass:"fas fa-eraser",on:{click:function(e){return t.removeFav(a)}}})]),e("div",{staticClass:"col-1 drop-item"},[e("i",{staticClass:"fas fa-shopping-cart",on:{click:function(e){return t.addfavCart(a)}}})])])})),0),e("p",{staticClass:"favLength"},[e("span",{staticClass:"d-flex justify-content-center"},[t._v(t._s(t.favItem.length))])])])])])])])],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler showMenu",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"d-flex flex-column align-items-start p-0 border-0 btn dropdown-toggle dropdown-toggle-split favBtn",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-heartbeat heartIcon"}),e("div",{staticClass:"homeFont"},[t._v("最愛")])])}],r=(e("99af"),e("4de4"),e("c975"),e("a434"),e("e956")),n={components:{SuccessMessage:r["a"]},data:function(){return{isrouActive:!1,favItem:JSON.parse(localStorage.getItem("fav-storage"))||[],favList:[],isfavShow:!1,isLoading:!1}},methods:{getCart:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart");t.$http.get(a).then((function(a){t.cart=a.data.data,t.$bus.$emit("cartnum",a.data.data.carts.length,a.data.data)}))},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2?arguments[2]:void 0,s=this,i="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart"),r={product_id:t,qty:a};s.$http.post(i,{data:r}).then((function(t){t.data.success&&(s.$bus.$emit("cart:push"),s.getCart(),s.$bus.$emit("successMessage",t.data.message,"success"),s.favList.splice(s.favList.indexOf(e),1),localStorage.setItem("fav-storage",JSON.stringify(s.favList)))}))},removeFav:function(t){var a=this;a.favItem.splice(a.favItem.indexOf(t),1),localStorage.setItem("fav-storage",JSON.stringify(a.favList)),a.$bus.$emit("feebackFav",t)},getFavtitle:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/products/all");t.$http.get(a).then((function(a){var e=a.data.products;e.filter((function(a){return-1!==t.favItem.indexOf(a.id)&&t.favList.push(a.title),a}))}))},addfavCart:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/products/all");a.$http.get(e).then((function(e){var s=e.data.products;s.filter((function(e){return-1!==t.indexOf(e.title)&&a.addCart(e.id,1,e.title),e}))}))}},mounted:function(){var t=this;t.getFavtitle()},watch:{favItem:function(){var t=this;t.favList.length!==t.favItem.length&&(t.favList=[],t.getFavtitle())}},created:function(){var t=this;t.$bus.$on("listPush",(function(a){t.favItem=a}))}},c=n,o=(e("d385"),e("2877")),l=Object(o["a"])(c,s,i,!1,null,"26fc7eb4",null);a["a"]=l.exports},bf75:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("HomeNav",{staticClass:"mb-5 pb-5"}),e("progressbar",{staticClass:"py-5",attrs:{status:t.status}}),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-4",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("h1",{staticClass:"h3 mt-3"},[t._v("購買資訊")]),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"text-right"},[e("del",[t._v(t._s(t._f("currency")(a.total)))]),e("br"),e("span",{staticClass:"text-success"},[t._v(t._s(t._f("currency")(a.final_total)))])])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計: ")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),e("p",{staticClass:"h3"},[t._v("個人資料")]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e(),!0===t.order.is_paid?e("div",{staticClass:"text-right"},[e("router-link",{attrs:{to:"/shopping"}},[e("button",{staticClass:"btn btn-primary"},[t._v("繼續購物")])])],1):t._e()])]),e("Footer")],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("單價")])])}],r=(e("99af"),e("a99b")),n=e("c27d"),c=e("cc26"),o={components:{HomeNav:r["a"],Footer:n["a"],progressbar:c["a"]},data:function(){return{orderId:"",order:{user:{}},status:2}},methods:{getOrder:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(a).then((function(a){t.order=a.data.order,t.isLoading=!1}))},payOrder:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(a).then((function(a){a.data.success&&(t.getOrder(),t.status=3),t.isLoading=!1}))}},created:function(){var t=this;t.orderId=this.$route.params.orderId,t.getOrder()}},l=o,d=e("2877"),u=Object(d["a"])(l,s,i,!1,null,null,null);a["default"]=u.exports},c27d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("footer",{staticClass:"footer py-3 footerNav"},[e("div",{staticClass:"py-5 footerNav"},[e("ul",{staticClass:"d-flex justify-content-center list-unstyled"},[e("li",[e("i",{staticClass:"fab fa-facebook footerIcon px-2"})]),e("li",[e("i",{staticClass:"fab fa-github footerIcon px-2"})]),e("li",[e("i",{staticClass:"fab fa-instagram footerIcon px-2"})]),e("li",[e("i",{staticClass:"far fa-envelope footerIcon px-2"})])]),e("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("©Copright 2020 Hao Che")]),e("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("網頁內素材皆做為學習用途，無任何商業行為")])])])])}],r=(e("8bd6"),e("2877")),n={},c=Object(r["a"])(n,s,i,!1,null,"92341054",null);a["a"]=c.exports},c975:function(t,a,e){"use strict";var s=e("23e7"),i=e("4d64").indexOf,r=e("a640"),n=e("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:o||!l||!d},{indexOf:function(t){return o?c.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},cc26:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"status"},[e("ul",[e("li",{class:{"bg-primary":t.status>=1,"text-light":t.status>=1}},[e("p",[t._v("輸入訂單資料")])]),e("li",{class:{"bg-primary":t.status>=2,"text-light":t.status>=2}},[e("p",[t._v("確認付款")])]),e("li",{class:{"bg-primary":t.status>=3,"text-light":t.status>=3}},[e("p",[t._v("完成購物")])])])])},i=[],r={props:["status"]},n=r,c=(e("709b"),e("2877")),o=Object(c["a"])(n,s,i,!1,null,"e7688410",null);a["a"]=o.exports},d385:function(t,a,e){"use strict";var s=e("9b80"),i=e.n(s);i.a},e956:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible-success",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"success-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),e("div",{staticClass:"tickBlock d-flex justify-content-center align-items-center mt-2"},[e("svg",{attrs:{width:"50",height:"50"}},[e("circle",{staticClass:"circle",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",cx:"25",cy:"25",r:"21","stroke-linecap":"round",transform:"rotate(-20 30 30)"}}),e("polyline",{staticClass:"tick",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",points:"11,26,21,35,38,17","stroke-linecap":"round","stroke-linejoin":"round"}})])])])})),0)},i=[],r=(e("4160"),e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("successMessage",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),n=r,c=(e("43c4"),e("2877")),o=Object(c["a"])(n,s,i,!1,null,null,null);a["a"]=o.exports}}]);
//# sourceMappingURL=chunk-6a9a8816.0ef3890f.js.map