(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f0f1c0c"],{1110:function(t,a,e){},"16bf":function(t,a,e){},"43c4":function(t,a,e){"use strict";var s=e("1110"),n=e.n(s);n.a},"549c":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"btn-group dropup cartIcon"},[e("button",{staticClass:"btn btn-primary dropdown-toggle btn-style",attrs:{type:"button","data-toggle":"dropdown","data-display":"static","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-shopping-basket"}),e("div",{staticClass:"quantity"},[e("span",{staticClass:"d-flex align-items-center qtext justify-content-center"},[t._v(t._s(t.Cartnum))])])]),e("div",{staticClass:"dropdown-menu dropdown-menu-left dropdown-menu-lg-left shopCartmenu",attrs:{"data-stopPropagation":"true"}},[0!==t.cart.final_total?e("div",{staticClass:"table-responsive cartstyle p-2"},[e("table",{staticClass:"table table-sm"},[t._m(0),e("tbody",t._l(t.cart.carts,(function(a){return e("tr",{key:a.id},[e("td",[e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.removeCartItem(a.id)}}},[t.status.loadingItem!==a.id?e("i",{staticClass:"far fa-trash-alt"},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]):t._e()])]),e("td",[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()]),e("td",{staticClass:"text-center"},[t._v(t._s(a.qty)+" "+t._s(a.product.unit))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.total)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計: ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價:")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]),e("router-link",{staticClass:"btn btn-outline-primary w-100",attrs:{to:{path:"/faOrder"}}},[t._v("結帳去")])],1):t._e()])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{staticClass:"border-0"},[t._v("已選擇商品")]),e("th",{staticClass:"border-0"}),e("th",{staticClass:"text-center border-0"}),e("th",{staticClass:"text-center border-0"})])}],i=(e("99af"),{data:function(){return{cart:[],Cartnum:"",status:{loadingItem:""}}},methods:{getCart:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.cart=a.data.data,t.isLoading=!1,t.Cartnum=a.data.data.carts.length}))},removeCartItem:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(t);a.status.loadingItem=t,a.$http.delete(e).then((function(t){a.status.loadingItem="",a.getCart(),a.isLoading=!1}))},addCouponcode:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/coupon"),e={code:t.coupon_code};t.isLoading=!0,t.$http.post(a,{data:e}).then((function(a){t.getCart(),t.isLoading=!1}))},getCartNum:function(t,a){this.Cartnum=t,this.cart=a}},created:function(){var t=this;t.$bus.$on("cartnum",(function(a,e){t.getCartNum(a,e)})),t.getCart()}}),r=i,c=e("2877"),o=Object(c["a"])(r,s,n,!1,null,null,null);a["a"]=o.exports},8418:function(t,a,e){"use strict";var s=e("c04e"),n=e("9bf2"),i=e("5c6c");t.exports=function(t,a,e){var r=s(a);r in t?n.f(t,r,i(0,e)):t[r]=e}},"8bd6":function(t,a,e){"use strict";var s=e("16bf"),n=e.n(s);n.a},"99af":function(t,a,e){"use strict";var s=e("23e7"),n=e("d039"),i=e("e8b5"),r=e("861d"),c=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),f=e("b622"),p=e("2d00"),v=f("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",_=p>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=d("concat"),b=function(t){if(!r(t))return!1;var a=t[v];return void 0!==a?!!a:i(t)},C=!_||!m;s({target:"Array",proto:!0,forced:C},{concat:function(t){var a,e,s,n,i,r=c(this),d=u(r,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(i=-1===a?r:arguments[a],b(i)){if(n=o(i.length),f+n>g)throw TypeError(h);for(e=0;e<n;e++,f++)e in i&&l(d,f,i[e])}else{if(f>=g)throw TypeError(h);l(d,f++,i)}return d.length=f,d}})},"9b80":function(t,a,e){},a434:function(t,a,e){"use strict";var s=e("23e7"),n=e("23cb"),i=e("a691"),r=e("50c4"),c=e("7b0b"),o=e("65f0"),l=e("8418"),u=e("1dde"),d=e("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,g=Math.min,h=9007199254740991,_="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,a){var e,s,u,d,f,p,m=c(this),b=r(m.length),C=n(t,b),E=arguments.length;if(0===E?e=s=0:1===E?(e=0,s=b-C):(e=E-2,s=g(v(i(a),0),b-C)),b+e-s>h)throw TypeError(_);for(u=o(m,s),d=0;d<s;d++)f=C+d,f in m&&l(u,d,m[f]);if(u.length=s,e<s){for(d=C;d<b-s;d++)f=d+s,p=d+e,f in m?m[p]=m[f]:delete m[p];for(d=b;d>b-s+e;d--)delete m[d-1]}else if(e>s)for(d=b-s;d>C;d--)f=d+s-1,p=d+e-1,f in m?m[p]=m[f]:delete m[p];for(d=0;d<e;d++)m[d+C]=arguments[d+2];return m.length=b-s+e,u}})},a99b:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("SuccessMessage"),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top topnav"},[t._m(0),e("router-link",{attrs:{to:"/"}},[e("img",{staticClass:"logoImg",attrs:{src:"https://github.com/andrew-HuangHaoChe/image/blob/master/keyboardlogo.png?raw=true"}})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav ml-auto py-1 home-nav-icon align-items-start"},[e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/"},"active-class":"routerActive"}},[e("i",{staticClass:"fas fa-home fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("首頁")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/shopping"},"active-class":"routerActive"}},[e("i",{staticClass:"fas fa-shopping-bag fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("商品")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/promotion"},"active-class":"routerActive"}},[e("i",{staticClass:"fas fa-ticket-alt fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center icon"},[t._v("優惠")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("router-link",{attrs:{to:{path:"/login"},"active-class":"routerActive"}},[e("i",{staticClass:"far fa-user fa-2x d-flex justify-content-center"}),e("div",{staticClass:"d-flex justify-content-center icon"},[t._v("登入")])])],1),e("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[e("div",{staticClass:"btn-group"},[e("div",{staticClass:"btn-group dropleft favIcon",attrs:{role:"group"}},[t._m(1),e("div",{staticClass:"dropdown-menu favorite-dropdown-menu"},t._l(t.favList,(function(a,s){return e("div",{key:s,staticClass:"row drop-item-f px-4 py-1 favoriteList"},[e("div",{staticClass:"col-8 drop-item pl-1"},[t._v(t._s(a))]),e("div",{staticClass:"col-1 drop-item"},[e("i",{staticClass:"fas fa-eraser",on:{click:function(e){return t.removeFav(a)}}})]),e("div",{staticClass:"col-1 drop-item"},[e("i",{staticClass:"fas fa-shopping-cart",on:{click:function(e){return t.addfavCart(a)}}})])])})),0),e("p",{staticClass:"favLength"},[e("span",{staticClass:"d-flex justify-content-center"},[t._v(t._s(t.favItem.length))])])])])])])])],1)],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler showMenu",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"d-flex flex-column align-items-start p-0 border-0 btn dropdown-toggle dropdown-toggle-split favBtn",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-heartbeat heartIcon"}),e("div",{staticClass:"homeFont"},[t._v("最愛")])])}],i=(e("99af"),e("4de4"),e("c975"),e("a434"),e("e956")),r={components:{SuccessMessage:i["a"]},data:function(){return{isrouActive:!1,favItem:JSON.parse(localStorage.getItem("fav-storage"))||[],favList:[],isfavShow:!1,isLoading:!1}},methods:{getCart:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart");t.$http.get(a).then((function(a){t.cart=a.data.data,t.$bus.$emit("cartnum",a.data.data.carts.length,a.data.data)}))},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2?arguments[2]:void 0,s=this,n="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart"),i={product_id:t,qty:a};s.$http.post(n,{data:i}).then((function(t){t.data.success&&(s.$bus.$emit("cart:push"),s.getCart(),s.$bus.$emit("successMessage",t.data.message,"success"),s.favList.splice(s.favList.indexOf(e),1),localStorage.setItem("fav-storage",JSON.stringify(s.favList)))}))},removeFav:function(t){var a=this;a.favItem.splice(a.favItem.indexOf(t),1),localStorage.setItem("fav-storage",JSON.stringify(a.favList)),a.$bus.$emit("feebackFav",t)},getFavtitle:function(){var t=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/products/all");t.$http.get(a).then((function(a){var e=a.data.products;e.filter((function(a){return-1!==t.favItem.indexOf(a.id)&&t.favList.push(a.title),a}))}))},addfavCart:function(t){var a=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/products/all");a.$http.get(e).then((function(e){var s=e.data.products;s.filter((function(e){return-1!==t.indexOf(e.title)&&a.addCart(e.id,1,e.title),e}))}))}},mounted:function(){var t=this;t.getFavtitle()},watch:{favItem:function(){var t=this;t.favList.length!==t.favItem.length&&(t.favList=[],t.getFavtitle())}},created:function(){var t=this;t.$bus.$on("listPush",(function(a){t.favItem=a}))}},c=r,o=(e("d385"),e("2877")),l=Object(o["a"])(c,s,n,!1,null,"26fc7eb4",null);a["a"]=l.exports},c27d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("footer",{staticClass:"footer py-3 footerNav"},[e("div",{staticClass:"py-5 footerNav"},[e("ul",{staticClass:"d-flex justify-content-center list-unstyled"},[e("li",[e("i",{staticClass:"fab fa-facebook footerIcon px-2"})]),e("li",[e("i",{staticClass:"fab fa-github footerIcon px-2"})]),e("li",[e("i",{staticClass:"fab fa-instagram footerIcon px-2"})]),e("li",[e("i",{staticClass:"far fa-envelope footerIcon px-2"})])]),e("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("©Copright 2020 Hao Che")]),e("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("網頁內素材皆做為學習用途，無任何商業行為")])])])])}],i=(e("8bd6"),e("2877")),r={},c=Object(i["a"])(r,s,n,!1,null,"92341054",null);a["a"]=c.exports},c975:function(t,a,e){"use strict";var s=e("23e7"),n=e("4d64").indexOf,i=e("a640"),r=e("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(t){return o?c.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},d385:function(t,a,e){"use strict";var s=e("9b80"),n=e.n(s);n.a},e956:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible-success",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"success-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),e("div",{staticClass:"tickBlock d-flex justify-content-center align-items-center mt-2"},[e("svg",{attrs:{width:"50",height:"50"}},[e("circle",{staticClass:"circle",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",cx:"25",cy:"25",r:"21","stroke-linecap":"round",transform:"rotate(-20 30 30)"}}),e("polyline",{staticClass:"tick",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",points:"11,26,21,35,38,17","stroke-linecap":"round","stroke-linejoin":"round"}})])])])})),0)},n=[],i=(e("4160"),e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("successMessage",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),r=i,c=(e("43c4"),e("2877")),o=Object(c["a"])(r,s,n,!1,null,null,null);a["a"]=o.exports}}]);
//# sourceMappingURL=chunk-7f0f1c0c.80ca3b22.js.map