(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a260889e"],{1110:function(t,e,a){},"16bf":function(t,e,a){},"43c4":function(t,e,a){"use strict";var s=a("1110"),r=a.n(s);r.a},"4d8b":function(t,e,a){},"709b":function(t,e,a){"use strict";var s=a("4d8b"),r=a.n(s);r.a},8418:function(t,e,a){"use strict";var s=a("c04e"),r=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var o=s(e);o in t?r.f(t,o,i(0,a)):t[o]=a}},"8bd6":function(t,e,a){"use strict";var s=a("16bf"),r=a.n(s);r.a},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("d039"),i=a("e8b5"),o=a("861d"),n=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),f=a("b622"),p=a("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",_=p>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=d("concat"),h=function(t){if(!o(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},C=!_||!b;s({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,s,r,i,o=n(this),d=u(o,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?o:arguments[e],h(i)){if(r=c(i.length),f+r>m)throw TypeError(g);for(a=0;a<r;a++,f++)a in i&&l(d,f,i[a])}else{if(f>=m)throw TypeError(g);l(d,f++,i)}return d.length=f,d}})},"9b80":function(t,e,a){},a434:function(t,e,a){"use strict";var s=a("23e7"),r=a("23cb"),i=a("a691"),o=a("50c4"),n=a("7b0b"),c=a("65f0"),l=a("8418"),u=a("1dde"),d=a("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min,g=9007199254740991,_="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var a,s,u,d,f,p,b=n(this),h=o(b.length),C=r(t,h),x=arguments.length;if(0===x?a=s=0:1===x?(a=0,s=h-C):(a=x-2,s=m(v(i(e),0),h-C)),h+a-s>g)throw TypeError(_);for(u=c(b,s),d=0;d<s;d++)f=C+d,f in b&&l(u,d,b[f]);if(u.length=s,a<s){for(d=C;d<h-s;d++)f=d+s,p=d+a,f in b?b[p]=b[f]:delete b[p];for(d=h;d>h-s+a;d--)delete b[d-1]}else if(a>s)for(d=h-s;d>C;d--)f=d+s-1,p=d+a-1,f in b?b[p]=b[f]:delete b[p];for(d=0;d<a;d++)b[d+C]=arguments[d+2];return b.length=h-s+a,u}})},a99b:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("SuccessMessage"),a("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top topnav"},[t._m(0),a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logoImg",attrs:{src:"https://github.com/andrew-HuangHaoChe/image/blob/master/keyboardlogo.png?raw=true"}})]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto py-1 home-nav-icon align-items-start"},[a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/"},"active-class":"routerActive"}},[a("i",{staticClass:"fas fa-home fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("首頁")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/shopping"},"active-class":"routerActive"}},[a("i",{staticClass:"fas fa-shopping-bag fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("商品")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/promotion"},"active-class":"routerActive"}},[a("i",{staticClass:"fas fa-ticket-alt fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center icon"},[t._v("優惠")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/login"},"active-class":"routerActive"}},[a("i",{staticClass:"far fa-user fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center icon"},[t._v("登入")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("div",{staticClass:"btn-group"},[a("div",{staticClass:"btn-group dropleft favIcon",attrs:{role:"group"}},[t._m(1),a("div",{staticClass:"dropdown-menu favorite-dropdown-menu"},t._l(t.favList,(function(e,s){return a("div",{key:s,staticClass:"row drop-item-f px-4 py-1 favoriteList"},[a("div",{staticClass:"col-8 drop-item pl-1"},[t._v(t._s(e))]),a("div",{staticClass:"col-1 drop-item"},[a("i",{staticClass:"fas fa-eraser",on:{click:function(a){return t.removeFav(e)}}})]),a("div",{staticClass:"col-1 drop-item"},[a("i",{staticClass:"fas fa-shopping-cart",on:{click:function(a){return t.addfavCart(e)}}})])])})),0),a("p",{staticClass:"favLength"},[a("span",{staticClass:"d-flex justify-content-center"},[t._v(t._s(t.favItem.length))])])])])])])])],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler showMenu",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"d-flex flex-column align-items-start p-0 border-0 btn dropdown-toggle dropdown-toggle-split favBtn",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-heartbeat heartIcon"}),a("div",{staticClass:"homeFont"},[t._v("最愛")])])}],i=(a("99af"),a("4de4"),a("c975"),a("a434"),a("e956")),o={components:{SuccessMessage:i["a"]},data:function(){return{isrouActive:!1,favItem:JSON.parse(localStorage.getItem("fav-storage"))||[],favList:[],isfavShow:!1,isLoading:!1}},methods:{getCart:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart");t.$http.get(e).then((function(e){t.cart=e.data.data,t.$bus.$emit("cartnum",e.data.data.carts.length,e.data.data)}))},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,s=this,r="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart"),i={product_id:t,qty:e};s.$http.post(r,{data:i}).then((function(t){t.data.success&&(s.$bus.$emit("cart:push"),s.getCart(),s.$bus.$emit("successMessage",t.data.message,"success"),s.favList.splice(s.favList.indexOf(a),1),localStorage.setItem("fav-storage",JSON.stringify(s.favList)))}))},removeFav:function(t){var e=this;e.favItem.splice(e.favItem.indexOf(t),1),localStorage.setItem("fav-storage",JSON.stringify(e.favList)),e.$bus.$emit("feebackFav",t)},getFavtitle:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/products/all");t.$http.get(e).then((function(e){var a=e.data.products;a.filter((function(e){return-1!==t.favItem.indexOf(e.id)&&t.favList.push(e.title),e}))}))},addfavCart:function(t){var e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/products/all");e.$http.get(a).then((function(a){var s=a.data.products;s.filter((function(a){return-1!==t.indexOf(a.title)&&e.addCart(a.id,1,a.title),a}))}))}},mounted:function(){var t=this;t.getFavtitle()},watch:{favItem:function(){var t=this;t.favList.length!==t.favItem.length&&(t.favList=[],t.getFavtitle())}},created:function(){var t=this;t.$bus.$on("listPush",(function(e){t.favItem=e}))}},n=o,c=(a("d385"),a("2877")),l=Object(c["a"])(n,s,r,!1,null,"26fc7eb4",null);e["a"]=l.exports},c27d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",{staticClass:"footer py-3 footerNav"},[a("div",{staticClass:"py-5 footerNav"},[a("ul",{staticClass:"d-flex justify-content-center list-unstyled"},[a("li",[a("i",{staticClass:"fab fa-facebook footerIcon px-2"})]),a("li",[a("i",{staticClass:"fab fa-github footerIcon px-2"})]),a("li",[a("i",{staticClass:"fab fa-instagram footerIcon px-2"})]),a("li",[a("i",{staticClass:"far fa-envelope footerIcon px-2"})])]),a("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("©Copright 2020 Hao Che")]),a("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("網頁內素材皆做為學習用途，無任何商業行為")])])])])}],i=(a("8bd6"),a("2877")),o={},n=Object(i["a"])(o,s,r,!1,null,"92341054",null);e["a"]=n.exports},c975:function(t,e,a){"use strict";var s=a("23e7"),r=a("4d64").indexOf,i=a("a640"),o=a("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?n.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},cc26:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status"},[a("ul",[a("li",{class:{"bg-primary":t.status>=1,"text-light":t.status>=1}},[a("p",[t._v("輸入訂單資料")])]),a("li",{class:{"bg-primary":t.status>=2,"text-light":t.status>=2}},[a("p",[t._v("確認付款")])]),a("li",{class:{"bg-primary":t.status>=3,"text-light":t.status>=3}},[a("p",[t._v("完成購物")])])])])},r=[],i={props:["status"]},o=i,n=(a("709b"),a("2877")),c=Object(n["a"])(o,s,r,!1,null,"e7688410",null);e["a"]=c.exports},d385:function(t,e,a){"use strict";var s=a("9b80"),r=a.n(s);r.a},e956:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible-success",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"success-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("div",{staticClass:"tickBlock d-flex justify-content-center align-items-center mt-2"},[a("svg",{attrs:{width:"50",height:"50"}},[a("circle",{staticClass:"circle",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",cx:"25",cy:"25",r:"21","stroke-linecap":"round",transform:"rotate(-20 30 30)"}}),a("polyline",{staticClass:"tick",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",points:"11,26,21,35,38,17","stroke-linecap":"round","stroke-linejoin":"round"}})])])])})),0)},r=[],i=(a("4160"),a("a434"),a("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("successMessage",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))}}),o=i,n=(a("43c4"),a("2877")),c=Object(n["a"])(o,s,r,!1,null,null,null);e["a"]=c.exports},f45e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HomeNav",{staticClass:"pb-5"}),a("progressbar",{staticClass:"my-5 pt-5",attrs:{status:t.status}}),a("div",{staticClass:"container"},[a("section",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-8 pl-4"},[a("h1",{staticClass:"text-primary h3 mb-3"},[t._v("訂單資訊")]),a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("div",{staticClass:"my-2 row justify-content-start"},[a("form",{staticClass:"col-md-10",on:{submit:function(e){return e.preventDefault(),t.newOrder(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("ValidationProvider",{attrs:{name:"郵件",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("ValidationProvider",{attrs:{name:"姓名",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"姓名",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("ValidationProvider",{attrs:{name:"電話",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("ValidationProvider",{attrs:{name:"地址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",attrs:{disabled:s}},[t._v("送出訂單")])])])])]}}])})],1),a("div",{staticClass:"col-md-4"},[a("p",{staticClass:"h3 text-primary d-block w-100"},[t._v("購物清單")]),0!==t.cart.final_total?a("div",{staticClass:"table-responsive orderCart py-2"},[a("table",{staticClass:"table table-lg"},[t._m(0),a("tbody",t._l(t.cart.carts,(function(e){return a("tr",{key:e.id},[a("td",[a("button",{staticClass:"btn btn-outline-danger",on:{click:function(a){return t.removeCartItem(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),a("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.product.title)+" "),e.coupon?a("div",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()]),a("td",{staticClass:"text-center align-middle"},[t._v(t._s(e.qty)+" "+t._s(e.product.unit))]),a("td",{staticClass:"text-right align-middle"},[t._v(t._s(t._f("currency")(e.final_total)))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計: ")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價:")]),a("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])])]):t._e(),a("div",{staticClass:"input-group mb-3 input-group-sm orderCoupon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control incoupon",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponcode}},[t._v(" 套用優惠碼 ")])])])])])])]),a("Footer")],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticClass:"border-0"},[t._v("已選擇商品")]),a("th",{staticClass:"border-0"}),a("th",{staticClass:"text-center border-0"}),a("th",{staticClass:"text-center border-0"})])}],i=(a("99af"),a("a99b")),o=a("c27d"),n=a("cc26"),c={components:{HomeNav:i["a"],Footer:o["a"],progressbar:n["a"]},data:function(){return{cart:[],shopcart:[],coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},orderId:"",order:{user:{}},status:1}},methods:{newOrder:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/order"),a=t.form;t.isLoading=!0,t.$http.post(e,{data:a}).then((function(e){e.data.success&&t.$router.push("/checkout2/".concat(e.data.orderId)),t.isLoading=!1}))},removeCartItem:function(t){var e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(t);e.isLoading=!0,e.$http.delete(a).then((function(t){e.getCart(),e.isLoading=!1}))},addCouponcode:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/coupon"),a={code:t.coupon_code};t.isLoading=!0,t.$http.post(e,{data:a}).then((function(e){t.getCart(),t.isLoading=!1}))},getCart:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/cli3keyboard/"}).VUE_APP_CUSTOMPATH,"/cart");t.isLoading=!0,t.$http.get(e).then((function(e){t.cart=e.data.data,t.isLoading=!1,t.shopcart.push(e.data.data.carts)}))}},created:function(){var t=this;t.getCart()}},l=c,u=a("2877"),d=Object(u["a"])(l,s,r,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-a260889e.9b6fb104.js.map